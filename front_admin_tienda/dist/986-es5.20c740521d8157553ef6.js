!function(){"use strict";function e(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==i.return||i.return()}finally{if(c)throw a}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,r=void 0,"symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?r:String(r)),i)}var o,r}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkmetronic_angular_demo1=self.webpackChunkmetronic_angular_demo1||[]).push([[986],{70986:function(t,o,a){a.r(o),a.d(o,{ProductsModule:function(){return Le}});var c,u=a(16274),d=a(65543),g=a(42741),p=((c=function(){function e(){s(this,e)}return l(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||c)},c.\u0275cmp=g.Xpm({type:c,selectors:[["app-products"]],decls:1,vars:0,template:function(e,t){1&e&&g._UZ(0,"router-outlet")},directives:[d.lC],styles:[""]}),c),h=a(28837),f=a(2610),v=a(31887),Z=a(29923),m=a(27813),_=a(4565),b=a(29640),A=function(){var e=function(){function e(t,n){s(this,e),this.http=t,this.authservice=n,this.isLoadingSubject=new Z.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}return l(e,[{key:"getInfo",value:function(){var e=this;this.isLoadingSubject.next(!0);var t=new v.WM({Authorization:"Bearer"+this.authservice.token});return this.http.get(_.$g+"/products/get_info",{headers:t}).pipe((0,m.x)(function(){return e.isLoadingSubject.next(!1)}))}},{key:"allProducts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.isLoadingSubject.next(!0);var i=new v.WM({Authorization:"Bearer"+this.authservice.token});return this.http.get(_.$g+"/products/all?page="+t+n,{headers:i}).pipe((0,m.x)(function(){return e.isLoadingSubject.next(!1)}))}},{key:"createProduct",value:function(e){var t=this;this.isLoadingSubject.next(!0);var n=new v.WM({Authorization:"Bearer"+this.authservice.token});return this.http.post(_.$g+"/products/add",e,{headers:n}).pipe((0,m.x)(function(){return t.isLoadingSubject.next(!1)}))}},{key:"showProduct",value:function(e){var t=this;this.isLoadingSubject.next(!0);var n=new v.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(_.$g+"/products/show_product/"+e,{headers:n}).pipe((0,m.x)(function(){return t.isLoadingSubject.next(!1)}))}},{key:"updateProduct",value:function(e,t){var n=this;this.isLoadingSubject.next(!0);var i=new v.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(_.$g+"/products/update/"+e,t,{headers:i}).pipe((0,m.x)(function(){return n.isLoadingSubject.next(!1)}))}},{key:"addImagenProduct",value:function(e){var t=this;this.isLoadingSubject.next(!0);var n=new v.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(_.$g+"/products/imgs/add",e,{headers:n}).pipe((0,m.x)(function(){return t.isLoadingSubject.next(!1)}))}},{key:"deleteImagenProduct",value:function(e){var t=this;this.isLoadingSubject.next(!0);var n=new v.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(_.$g+"/products/imgs/delete/"+e,{headers:n}).pipe((0,m.x)(function(){return t.isLoadingSubject.next(!1)}))}},{key:"addInvetario",value:function(e){var t=this;this.isLoadingSubject.next(!0);var n=new v.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(_.$g+"/products/inventario/add",e,{headers:n}).pipe((0,m.x)(function(){return t.isLoadingSubject.next(!1)}))}},{key:"updateInventario",value:function(e,t){var n=this;this.isLoadingSubject.next(!0);var i=new v.WM({Authorization:"Bearer "+this.authservice.token});return this.http.put(_.$g+"/products/inventario/update_size/"+e,t,{headers:i}).pipe((0,m.x)(function(){return n.isLoadingSubject.next(!1)}))}},{key:"deleteInventario",value:function(e){var t=this;this.isLoadingSubject.next(!0);var n=new v.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(_.$g+"/products/inventario/delete_size/"+e,{headers:n}).pipe((0,m.x)(function(){return t.isLoadingSubject.next(!1)}))}},{key:"updateSubInventario",value:function(e,t){var n=this;this.isLoadingSubject.next(!0);var i=new v.WM({Authorization:"Bearer "+this.authservice.token});return this.http.put(_.$g+"/products/inventario/update/"+e,t,{headers:i}).pipe((0,m.x)(function(){return n.isLoadingSubject.next(!1)}))}},{key:"deleteSubInventario",value:function(e){var t=this;this.isLoadingSubject.next(!0);var n=new v.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(_.$g+"/products/inventario/delete/"+e,{headers:n}).pipe((0,m.x)(function(){return t.isLoadingSubject.next(!1)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.LFG(v.eN),g.LFG(b.e8))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),T=a(93324);function q(e,t){}var y=function(){var e="undefined"!=typeof window?window:void 0;return e&&e.tinymce?e.tinymce:null},x=function(){var e=l(function e(){s(this,e),this.onBeforePaste=new g.vpe,this.onBlur=new g.vpe,this.onClick=new g.vpe,this.onContextMenu=new g.vpe,this.onCopy=new g.vpe,this.onCut=new g.vpe,this.onDblclick=new g.vpe,this.onDrag=new g.vpe,this.onDragDrop=new g.vpe,this.onDragEnd=new g.vpe,this.onDragGesture=new g.vpe,this.onDragOver=new g.vpe,this.onDrop=new g.vpe,this.onFocus=new g.vpe,this.onFocusIn=new g.vpe,this.onFocusOut=new g.vpe,this.onKeyDown=new g.vpe,this.onKeyPress=new g.vpe,this.onKeyUp=new g.vpe,this.onMouseDown=new g.vpe,this.onMouseEnter=new g.vpe,this.onMouseLeave=new g.vpe,this.onMouseMove=new g.vpe,this.onMouseOut=new g.vpe,this.onMouseOver=new g.vpe,this.onMouseUp=new g.vpe,this.onPaste=new g.vpe,this.onSelectionChange=new g.vpe,this.onActivate=new g.vpe,this.onAddUndo=new g.vpe,this.onBeforeAddUndo=new g.vpe,this.onBeforeExecCommand=new g.vpe,this.onBeforeGetContent=new g.vpe,this.onBeforeRenderUI=new g.vpe,this.onBeforeSetContent=new g.vpe,this.onChange=new g.vpe,this.onClearUndos=new g.vpe,this.onDeactivate=new g.vpe,this.onDirty=new g.vpe,this.onExecCommand=new g.vpe,this.onGetContent=new g.vpe,this.onHide=new g.vpe,this.onInit=new g.vpe,this.onInitNgModel=new g.vpe,this.onLoadContent=new g.vpe,this.onNodeChange=new g.vpe,this.onPostProcess=new g.vpe,this.onPostRender=new g.vpe,this.onPreInit=new g.vpe,this.onPreProcess=new g.vpe,this.onProgressState=new g.vpe,this.onRedo=new g.vpe,this.onRemove=new g.vpe,this.onReset=new g.vpe,this.onResizeEditor=new g.vpe,this.onSaveContent=new g.vpe,this.onSetAttrib=new g.vpe,this.onObjectResizeStart=new g.vpe,this.onObjectResized=new g.vpe,this.onObjectSelected=new g.vpe,this.onSetContent=new g.vpe,this.onShow=new g.vpe,this.onSubmit=new g.vpe,this.onUndo=new g.vpe,this.onVisualAid=new g.vpe});return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=g.lG2({type:e,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),e}(),k=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],w=function(e,t){return"string"==typeof e?e.split(",").map(function(e){return e.trim()}):Array.isArray(e)?e:t},C=0,S=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++C+String(t)},U=function(e){return void 0!==e&&"textarea"===e.tagName.toLowerCase()},M=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},O=function(e,t){return M(e).concat(M(t))},E=function(){},I=function(e){return null==e},N=function(){return{listeners:[],scriptId:S("tiny-script"),scriptLoaded:!1}},L=function(){var e=N();return{load:function(t,n,i){e.scriptLoaded?i():(e.listeners.push(i),t.getElementById(e.scriptId)||function(t,n,i,o){var r=n.createElement("script");r.referrerPolicy="origin",r.type="application/javascript",r.id=t,r.src=i;r.addEventListener("load",function t(){r.removeEventListener("load",t),e.listeners.forEach(function(e){return e()}),e.scriptLoaded=!0}),n.head&&n.head.appendChild(r)}(e.scriptId,t,n))},reinitialize:function(){e=N()}}}(),J=new g.OlP("TINYMCE_SCRIPT_SRC"),P={provide:T.JU,useExisting:(0,g.Gpc)(function(){return R}),multi:!0},R=function(){var e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}(o,e);var t=i(o);function o(e,n,i,a){var c;return s(this,o),(c=t.call(this)).platformId=i,c.tinymceScriptSrc=a,c.cloudChannel="5",c.apiKey="no-api-key",c.id="",c.modelEvents="change input undo redo",c.onTouchedCallback=E,c._elementRef=e,c.ngZone=n,c.initialise=c.initialise.bind(r(c)),c}return l(o,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this._editor&&this._editor.initialized&&this._editor.setMode(e?"readonly":"design")}},{key:"editor",get:function(){return this._editor}},{key:"writeValue",value:function(e){this._editor&&this._editor.initialized?this._editor.setContent(I(e)?"":e):this.initialValue=null===e?void 0:e}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this._editor?this._editor.setMode(e?"readonly":"design"):e&&(this.init=Object.assign(Object.assign({},this.init),{readonly:!0}))}},{key:"ngAfterViewInit",value:function(){var e;(0,u.NF)(this.platformId)&&(this.id=this.id||S("tiny-angular"),this.inline=void 0!==this.inline?!1!==this.inline:!!(null===(e=this.init)||void 0===e?void 0:e.inline),this.createElement(),null!==y()?this.initialise():this._element&&this._element.ownerDocument&&L.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise.bind(this)))}},{key:"ngOnDestroy",value:function(){null!==y()&&y().remove(this._editor)}},{key:"createElement",value:function(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn("TinyMCE-Angular: an element with id [".concat(this.id,"] already exists. Editors with duplicate Id will not be able to mount")),this._element.id=this.id,U(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}},{key:"initialise",value:function(){var e=this,t=Object.assign(Object.assign({},this.init),{target:this._element,inline:this.inline,readonly:this.disabled,plugins:O(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:function(t){var n,i;e._editor=t,t.on("init",function(n){e.initEditor(t)}),i=t,function(e){var t=w(e.ignoreEvents,[]);return w(e.allowedEvents,k).filter(function(e){return k.includes(e)&&!t.includes(e)})}(n=e).forEach(function(e){var t=n[e];i.on(e.substring(2),function(e){return n.ngZone.run(function(){return t.emit({event:e,editor:i})})})}),e.init&&"function"==typeof e.init.setup&&e.init.setup(t)}});U(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(function(){y().init(t)})}},{key:"getScriptSrc",value:function(){return I(this.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(this.apiKey,"/tinymce/").concat(this.cloudChannel,"/tinymce.min.js"):this.tinymceScriptSrc}},{key:"initEditor",value:function(e){var t=this;e.on("blur",function(){return t.ngZone.run(function(){return t.onTouchedCallback()})}),e.on(this.modelEvents,function(){return t.ngZone.run(function(){return t.emitOnChange(e)})}),"string"==typeof this.initialValue&&this.ngZone.run(function(){e.setContent(t.initialValue),e.getContent()!==t.initialValue&&t.emitOnChange(e),void 0!==t.onInitNgModel&&t.onInitNgModel.emit(e)})}},{key:"emitOnChange",value:function(e){this.onChangeCallback&&this.onChangeCallback(e.getContent({format:this.outputFormat}))}}]),o}(x);return e.\u0275fac=function(t){return new(t||e)(g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(g.Lbi),g.Y36(J,8))},e.\u0275cmp=g.Xpm({type:e,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",id:"id",modelEvents:"modelEvents",disabled:"disabled",initialValue:"initialValue",init:"init",inline:"inline",outputFormat:"outputFormat",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents"},features:[g._Bn([P]),g.qOj],decls:1,vars:0,template:function(e,t){1&e&&g.YNc(0,q,0,0,"ng-template")},styles:["[_nghost-%COMP%] { display: block; }"]}),e}(),D=function(){var e=l(function e(){s(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[u.ez,T.u5]]}),e}();function Q(e,t){1&e&&(g.ynx(0),g._UZ(1,"span",38),g.BQk())}function j(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"option",39),g._uU(2),g.qZA(),g.BQk()),2&e){var n=t.$implicit;g.xp6(1),g.Q6J("value",n.id),g.xp6(1),g.Oqu(n.name)}}function B(e,t){if(1&e&&(g.TgZ(0,"div",40),g._UZ(1,"img",41),g.qZA()),2&e){var n=g.oxw();g.xp6(1),g.Q6J("src",n.imagen_pre,g.LSH)}}function F(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g.TgZ(4,"button",42),g.NdJ("click",function(){var e=g.CHM(n).index;return g.oxw().removeTags(e)}),g._uU(5,"-"),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=t.$implicit;g.xp6(2),g.Oqu(i)}}function z(e,t){if(1&e&&(g.TgZ(0,"span"),g.TgZ(1,"b"),g._uU(2),g.qZA(),g.qZA()),2&e){var n=g.oxw();g.xp6(2),g.hij("Imagen: ",n.img_files.name,"")}}function G(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._UZ(2,"img",43),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g.TgZ(6,"button",42),g.NdJ("click",function(){var e=g.CHM(n).index;return g.oxw().removeImages(e)}),g._uU(7,"-"),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=t.$implicit;g.xp6(2),g.Q6J("src",i.show,g.LSH),g.xp6(2),g.Oqu(i.file.name)}}var Y=function(){return["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"]},$=function(e){return{height:250,language:"es",plugins:e,toolbar:"undo redo | formatselect | bold italic backcolor | \n                        alignleft aligncenter alignright alignjustify | \n                        bullist numlist outdent indent | removeformat | help"}},K=function(){var t=function(){function t(e,n){s(this,t),this.toaster=e,this._productService=n,this.title=null,this.sku=null,this.categorie_id="",this.price_colones="",this.price_usd="",this.resumen=null,this.description=null,this.categories=[],this.text=null,this.tags=[],this.imagen_file=null,this.imagen_pre=null,this.images_files=[],this.img_files=null,this.img_pre=null}return l(t,[{key:"ngOnInit",value:function(){var e=this;this.isLoading$=this._productService.isLoading$,this._productService.getInfo().subscribe(function(t){e.categories=t.categories})}},{key:"loadService",value:function(){var e=this;this._productService.isLoadingSubject.next(!0),setTimeout(function(){e._productService.isLoadingSubject.next(!1)},50)}},{key:"processFile",value:function(e){var t=this;if(e.target.files[0].type.indexOf("image")<0)this.toaster.open(h.a,{text:"danger-'El archivo cargado no es una imagen'"});else{this.imagen_file=e.target.files[0];var n=new FileReader;n.readAsDataURL(this.imagen_file),n.onloadend=function(){return t.imagen_pre=n.result},this.loadService()}}},{key:"addTags",value:function(){this.tags.push(this.text),this.text=null}},{key:"removeTags",value:function(e){this.tags.splice(e,1)}},{key:"addFile",value:function(e){var t=this;if(e.target.files[0].type.indexOf("image")<0)this.toaster.open(h.a,{text:"danger-'El archivo cargado no es una imagen'"});else{this.img_files=e.target.files[0];var n=new FileReader;n.readAsDataURL(this.img_files),n.onloadend=function(){return t.img_pre=n.result}}}},{key:"addImages",value:function(){this.images_files.push({file:this.img_files,show:this.img_pre}),this.img_files=null,this.img_pre=null}},{key:"removeImages",value:function(e){this.images_files.splice(e,1)}},{key:"createProduct",value:function(){var t=this;if(this.title&&this.sku&&this.categorie_id&&this.price_colones&&this.price_usd&&this.resumen&&this.description&&this.imagen_file)if(0!=this.images_files.length){var n=new FormData;n.append("title",this.title),n.append("sku",this.sku),n.append("categorie_id",this.categorie_id),n.append("price_colones",this.price_colones),n.append("price_usd",this.price_usd),n.append("resumen",this.resumen),n.append("description",this.description),n.append("imagen_file",this.imagen_file),n.append("tags",this.tags);var i,o=0,r=e(this.images_files);try{for(r.s();!(i=r.n()).done;){var a=i.value;n.append("files["+o+"]",a.file),o++}}catch(s){r.e(s)}finally{r.f()}this._productService.createProduct(n).subscribe(function(e){console.log(e),t.toaster.open(h.a,{text:"primary-'EL PRODUCTO SE REGISTRO CORRECTAMENTE.'"}),t.title=null,t.sku=null,t.categorie_id=null,t.price_colones=null,t.price_usd=null,t.resumen=null,t.description=null,t.imagen_file=null,t.imagen_pre=null,t.tags=[],t.images_files=[]})}else this.toaster.open(h.a,{text:"danger-'DEBES INGRESAR UN CONJUNTO DE IMAGENES'"});else this.toaster.open(h.a,{text:"danger-'TODOS LOS CAMPOS SON OBLIGATORIOS'"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36(f.x7),g.Y36(A))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-add-new-product"]],decls:100,vars:20,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"icon-2x","text-dark-50","flaticon2-tools-and-utensils","mx-2"],[1,"card-body"],[4,"ngIf"],[1,"form-group","row"],[1,"col-lg-5"],["for","form-label"],["type","text","name","title","placeholder","Nombre","autocomplete","off",1,"form-control","from-control-solid","from-control-lg",3,"ngModel","ngModelChange"],[1,"col-lg-3"],["type","text","name","sku","placeholder","sku","autocomplete","off",1,"form-control","from-control-solid","from-control-lg",3,"ngModel","ngModelChange"],["name","categorie_id",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],["type","text","name","price_colones","placeholder","\u20a1","autocomplete","off",1,"form-control","from-control-solid","from-control-lg",3,"ngModel","ngModelChange"],["type","text","name","price_usd","placeholder","$","autocomplete","off",1,"form-control","from-control-solid","from-control-lg",3,"ngModel","ngModelChange"],[1,"col-lg-4"],[1,"row"],[1,"col-12"],[1,"form-label"],[1,"custom-file"],["type","file","id","customFile","accept",".jpeg, .bmp, .jpg, .png, .gif, .webp",1,"custom-file-input",3,"change"],["for","customFile",1,"custom-file-label"],["class","COL-12 py-2",4,"ngIf"],[1,"col-5"],["name","descriptions","rows","4",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6"],[3,"ngModel","init","ngModelChange"],[1,"d-flex"],["type","text","name","TAGS","placeholder","TAGS","autocomplete","off",1,"form-control","from-control-solid","from-control-lg","w-50",3,"ngModel","ngModelChange"],[1,"ml-5","btn","btn-sm","btn-primary",3,"click"],[1,"table-responsive","w-50"],["id","kt_advance_table_widget_1",1,"table","table-head-custom","table-vertical-center"],[1,"text-left"],[1,"table-responsive","w-100"],[1,"btn","btn-md","btn-primary",3,"click"],[1,"spinner","spinner-lg","spinner-success"],[3,"value"],[1,"COL-12","py-2"],["alt","",1,"w-100",3,"src"],[1,"ml-5","btn","btn-sm","btn-danger",3,"click"],["alt","",1,"w-25",3,"src"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"h3",3),g._UZ(4,"i",4),g._uU(5," Agregar Nuevo Producto"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(6,"div",5),g.YNc(7,Q,2,0,"ng-container",6),g.ALo(8,"async"),g.TgZ(9,"div",7),g.TgZ(10,"div",8),g.TgZ(11,"label",9),g._uU(12,"Nombre del Producto:"),g.qZA(),g.TgZ(13,"input",10),g.NdJ("ngModelChange",function(e){return t.title=e}),g.qZA(),g.qZA(),g.TgZ(14,"div",11),g.TgZ(15,"label",9),g._uU(16,"SKU:"),g.qZA(),g.TgZ(17,"input",12),g.NdJ("ngModelChange",function(e){return t.sku=e}),g.qZA(),g.qZA(),g.TgZ(18,"div",11),g.TgZ(19,"label",9),g._uU(20,"Categor\xeda:"),g.qZA(),g.TgZ(21,"select",13),g.NdJ("ngModelChange",function(e){return t.categorie_id=e}),g.TgZ(22,"option",14),g._uU(23,"Ninguna"),g.qZA(),g.YNc(24,j,3,2,"ng-container",15),g.TgZ(25,"option",14),g._uU(26,"Ninguna"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"div",7),g.TgZ(28,"div",11),g.TgZ(29,"label",9),g._uU(30,"Precio en Colones:"),g.qZA(),g.TgZ(31,"input",16),g.NdJ("ngModelChange",function(e){return t.price_colones=e}),g.qZA(),g.qZA(),g.TgZ(32,"div",11),g.TgZ(33,"label",9),g._uU(34,"Precio en d\xf3lares:"),g.qZA(),g.TgZ(35,"input",17),g.NdJ("ngModelChange",function(e){return t.price_usd=e}),g.qZA(),g.qZA(),g.TgZ(36,"div",18),g.TgZ(37,"div",19),g.TgZ(38,"div",20),g.TgZ(39,"label",21),g._uU(40,"Imagen de Portada: "),g.qZA(),g.TgZ(41,"div",22),g.TgZ(42,"input",23),g.NdJ("change",function(e){return t.processFile(e)}),g.qZA(),g.TgZ(43,"label",24),g._uU(44,"Seleccione el archivo"),g.qZA(),g.qZA(),g.qZA(),g.YNc(45,B,2,1,"div",25),g.qZA(),g.qZA(),g.qZA(),g.TgZ(46,"div",7),g.TgZ(47,"div",26),g.TgZ(48,"label",21),g._uU(49,"Resumen del Producto:"),g.qZA(),g.TgZ(50,"textarea",27),g.NdJ("ngModelChange",function(e){return t.resumen=e}),g.qZA(),g.qZA(),g.TgZ(51,"div",28),g.TgZ(52,"label",21),g._uU(53,"Descripci\xf3n:"),g.qZA(),g.TgZ(54,"editor",29),g.NdJ("ngModelChange",function(e){return t.description=e}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(55,"div",7),g.TgZ(56,"div",28),g.TgZ(57,"label",21),g._uU(58,"Etiquetas:"),g.qZA(),g.TgZ(59,"div",30),g.TgZ(60,"input",31),g.NdJ("ngModelChange",function(e){return t.text=e}),g.qZA(),g.TgZ(61,"button",32),g.NdJ("click",function(){return t.addTags()}),g._uU(62,"+"),g.qZA(),g.qZA(),g.TgZ(63,"div",33),g.TgZ(64,"table",34),g.TgZ(65,"thead"),g.TgZ(66,"tr",35),g.TgZ(67,"th"),g._uU(68,"Palabra"),g.qZA(),g.TgZ(69,"th"),g._uU(70,"Acci\xf3n"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(71,"tbody"),g.YNc(72,F,6,1,"tr",15),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(73,"div",28),g.TgZ(74,"label",21),g._uU(75,"Imagenes:"),g.qZA(),g.TgZ(76,"div",30),g.TgZ(77,"div",22),g.TgZ(78,"input",23),g.NdJ("change",function(e){return t.addFile(e)}),g.qZA(),g.TgZ(79,"label",24),g._uU(80,"Seleccione el archivo"),g.qZA(),g.qZA(),g.TgZ(81,"button",32),g.NdJ("click",function(){return t.addImages()}),g._uU(82,"+"),g.qZA(),g.qZA(),g.YNc(83,z,3,1,"span",6),g.TgZ(84,"div",36),g.TgZ(85,"table",34),g.TgZ(86,"thead"),g.TgZ(87,"tr",35),g.TgZ(88,"th"),g._uU(89,"Imagen"),g.qZA(),g.TgZ(90,"th"),g._uU(91,"Nombre"),g.qZA(),g.TgZ(92,"th"),g._uU(93,"Acci\xf3n"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(94,"tbody"),g.YNc(95,G,8,2,"tr",15),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(96,"div",7),g.TgZ(97,"div",28),g.TgZ(98,"button",37),g.NdJ("click",function(){return t.createProduct()}),g._uU(99,"Cargar Producto"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(7),g.Q6J("ngIf",g.lcZ(8,15,t.isLoading$)),g.xp6(6),g.Q6J("ngModel",t.title),g.xp6(4),g.Q6J("ngModel",t.sku),g.xp6(4),g.Q6J("ngModel",t.categorie_id),g.xp6(3),g.Q6J("ngForOf",t.categories),g.xp6(7),g.Q6J("ngModel",t.price_colones),g.xp6(4),g.Q6J("ngModel",t.price_usd),g.xp6(10),g.Q6J("ngIf",t.imagen_pre),g.xp6(5),g.Q6J("ngModel",t.resumen),g.xp6(4),g.Q6J("ngModel",t.description)("init",g.VKq(18,$,g.DdM(17,Y))),g.xp6(6),g.Q6J("ngModel",t.text),g.xp6(12),g.Q6J("ngForOf",t.tags),g.xp6(11),g.Q6J("ngIf",t.img_files),g.xp6(12),g.Q6J("ngForOf",t.images_files))},directives:[u.O5,T.Fj,T.JJ,T.On,T.EJ,T.YN,T.Kr,u.sg,R],pipes:[u.Ov],styles:[""]}),t}(),H=a(46469);function V(e,t){1&e&&(g.ynx(0),g.TgZ(1,"div",9),g._UZ(2,"div",10),g.qZA(),g.BQk())}function X(e,t){1&e&&(g.ynx(0),g.TgZ(1,"div",11),g._UZ(2,"div",12),g.qZA(),g.BQk())}var W=function(){var e=function(){function e(t,n){s(this,e),this._productService=t,this.modal=n,this.imagen_=null,this.ImagenE=new g.vpe,this.isLoading=!1}return l(e,[{key:"ngOnInit",value:function(){this.isLoading$=this._productService.isLoading$}},{key:"delete",value:function(){var e=this;this._productService.deleteImagenProduct(this.imagen_.id).subscribe(function(t){console.log(t),e.modal.close(),e.ImagenE.emit(e.imagen_)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(A),g.Y36(H.Kz))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-delete-imagen-p"]],inputs:{imagen_:"imagen_"},outputs:{ImagenE:"ImagenE"},decls:18,vars:6,consts:[[4,"ngIf"],[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4"],[1,"icon-2x","text-dark-50","fas","fa-user-times","mx-2"],[1,"overlay","overlay-block","cursor-default","modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-danger","btn-elevate","mr-2",3,"click"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"overlay-layer","bg-transparent"],[1,"spinner","spinner-lg","spinner-success"]],template:function(e,t){1&e&&(g.YNc(0,V,3,0,"ng-container",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g._UZ(4,"i",4),g._uU(5),g.qZA(),g.qZA(),g.TgZ(6,"div",5),g.YNc(7,X,3,0,"ng-container",0),g.ALo(8,"async"),g.TgZ(9,"span"),g._uU(10,"\xbfESTAS SEGURO DE ELIMINAR ESTA IMAGEN ?: "),g.TgZ(11,"b"),g._uU(12),g.qZA(),g.qZA(),g.qZA(),g.TgZ(13,"div",6),g.TgZ(14,"button",7),g.NdJ("click",function(){return t.modal.dismiss()}),g._uU(15," Cancelar "),g.qZA(),g.TgZ(16,"button",8),g.NdJ("click",function(){return t.delete()}),g._uU(17," ELIMINAR "),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.Q6J("ngIf",t.isLoading),g.xp6(5),g.hij(" Eliminar IMAGEN : ",t.imagen_.file_name," "),g.xp6(2),g.Q6J("ngIf",g.lcZ(8,4,t.isLoading$)),g.xp6(5),g.Oqu(t.imagen_.file_name))},directives:[u.O5],pipes:[u.Ov],styles:[""]}),e}();function ee(e,t){1&e&&(g.ynx(0),g.TgZ(1,"div",9),g._UZ(2,"div",10),g.qZA(),g.BQk())}var te=function(){var e=function(){function e(t,n){s(this,e),this._productService=t,this.modal=n,this.inventario=null,this.inventarioG=new g.vpe,this.isLoading=!1}return l(e,[{key:"ngOnInit",value:function(){this.isLoading$=this._productService.isLoading$}},{key:"delete",value:function(){var e=this;this._productService.deleteInventario(this.inventario.id).subscribe(function(t){console.log(t),e.modal.close(),e.inventarioG.emit(e.inventario)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(A),g.Y36(H.Kz))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-delete-item-inventario"]],inputs:{inventario:"inventario"},outputs:{inventarioG:"inventarioG"},decls:17,vars:5,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4"],[1,"icon-2x","text-dark-50","fas","fa-user-times","mx-2"],[1,"overlay","overlay-block","cursor-default","modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-danger","btn-elevate","mr-2",3,"click"],[1,"overlay-layer","bg-transparent"],[1,"spinner","spinner-lg","spinner-success"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g._UZ(3,"i",3),g._uU(4),g.qZA(),g.qZA(),g.TgZ(5,"div",4),g.YNc(6,ee,3,0,"ng-container",5),g.ALo(7,"async"),g.TgZ(8,"span"),g._uU(9,"\xbfESTAS SEGURO DE ELIMINAR ESTA TALLA ?: "),g.TgZ(10,"b"),g._uU(11),g.qZA(),g.qZA(),g.qZA(),g.TgZ(12,"div",6),g.TgZ(13,"button",7),g.NdJ("click",function(){return t.modal.dismiss()}),g._uU(14," Cancelar "),g.qZA(),g.TgZ(15,"button",8),g.NdJ("click",function(){return t.delete()}),g._uU(16," ELIMINAR "),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(4),g.hij(" Eliminar TALLA : ",t.inventario.name," "),g.xp6(2),g.Q6J("ngIf",g.lcZ(7,3,t.isLoading$)),g.xp6(5),g.Oqu(t.inventario.name))},directives:[u.O5],pipes:[u.Ov],styles:[""]}),e}();function ne(e,t){1&e&&(g.ynx(0),g.TgZ(1,"div",14),g._UZ(2,"div",15),g.qZA(),g.BQk())}var ie=function(){var e=function(){function e(t,n,i){s(this,e),this._productService=t,this.modal=n,this.toaster=i,this.inventarioG=new g.vpe,this.name=null}return l(e,[{key:"ngOnInit",value:function(){this.isLoading$=this._productService.isLoadingSubject,this.name=this.inventario.name}},{key:"save",value:function(){var e=this;this._productService.updateInventario(this.inventario.id,{name:this.name}).subscribe(function(t){return console.log(t),403==t.message?void e.toaster.open(h.a,{text:"danger-'".concat(t.text_message,"'")}):(e.inventarioG.emit(t.product_size),e.modal.close(),void e.toaster.open(h.a,{text:"primary-'SE HA REGISTRADO LOS CAMBIOS EN ESTE REGISTRO'"}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(A),g.Y36(H.Kz),g.Y36(f.x7))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-edit-item-inventario"]],inputs:{inventario:"inventario"},outputs:{inventarioG:"inventarioG"},decls:19,vars:5,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4"],[1,"icon-2x","text-dark-50","flaticon-interface-9","mx-2"],[1,"overlay","overlay-block","cursor-default","modal-body"],[4,"ngIf"],["action","#",1,"form","form-label-right"],[1,"form-group","row"],[1,"col-12"],[1,"form-label"],["type","text","name","name","placeholder","XL,L,M,S","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate","mr-2",3,"click"],[1,"overlay-layer","bg-transparent"],[1,"spinner","spinner-lg","spinner-success"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g._UZ(3,"i",3),g._uU(4),g.qZA(),g.qZA(),g.TgZ(5,"div",4),g.YNc(6,ne,3,0,"ng-container",5),g.ALo(7,"async"),g.TgZ(8,"form",6),g.TgZ(9,"div",7),g.TgZ(10,"div",8),g.TgZ(11,"label",9),g._uU(12,"Talla: "),g.qZA(),g.TgZ(13,"input",10),g.NdJ("ngModelChange",function(e){return t.name=e}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(14,"div",11),g.TgZ(15,"button",12),g.NdJ("click",function(){return t.modal.dismiss()}),g._uU(16," Cerrar "),g.qZA(),g.TgZ(17,"button",13),g.NdJ("click",function(){return t.save()}),g._uU(18," Guardar Cambios "),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(4),g.hij(" EDITAR TALLA: ",t.inventario.name," "),g.xp6(2),g.Q6J("ngIf",g.lcZ(7,3,t.isLoading$)),g.xp6(7),g.Q6J("ngModel",t.name))},directives:[u.O5,T._Y,T.JL,T.F,T.Fj,T.JJ,T.On],pipes:[u.Ov],styles:[""]}),e}();function oe(e,t){1&e&&(g.ynx(0),g.TgZ(1,"div",9),g._UZ(2,"div",10),g.qZA(),g.BQk())}var re=function(){var e=function(){function e(t,n){s(this,e),this._productService=t,this.modal=n,this.sub_inventario=null,this.inventarioG=new g.vpe,this.isLoading=!1}return l(e,[{key:"ngOnInit",value:function(){this.isLoading$=this._productService.isLoading$}},{key:"delete",value:function(){var e=this;this._productService.deleteSubInventario(this.sub_inventario.id).subscribe(function(t){console.log(t),e.modal.close(),e.inventarioG.emit(e.sub_inventario)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(A),g.Y36(H.Kz))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-delete-sub-item-inventario"]],inputs:{sub_inventario:"sub_inventario"},outputs:{inventarioG:"inventarioG"},decls:17,vars:5,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4"],[1,"icon-2x","text-dark-50","fas","fa-user-times","mx-2"],[1,"overlay","overlay-block","cursor-default","modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-danger","btn-elevate","mr-2",3,"click"],[1,"overlay-layer","bg-transparent"],[1,"spinner","spinner-lg","spinner-success"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g._UZ(3,"i",3),g._uU(4),g.qZA(),g.qZA(),g.TgZ(5,"div",4),g.YNc(6,oe,3,0,"ng-container",5),g.ALo(7,"async"),g.TgZ(8,"span"),g._uU(9,"\xbfESTAS SEGURO DE ELIMINAR ESTA SUB PRODUCTO ?: "),g.TgZ(10,"b"),g._uU(11),g.qZA(),g.qZA(),g.qZA(),g.TgZ(12,"div",6),g.TgZ(13,"button",7),g.NdJ("click",function(){return t.modal.dismiss()}),g._uU(14," Cancel "),g.qZA(),g.TgZ(15,"button",8),g.NdJ("click",function(){return t.delete()}),g._uU(16," ELIMINAR "),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(4),g.hij(" Eliminar SUB PRODUCTO : ",t.sub_inventario.product_color.name," "),g.xp6(2),g.Q6J("ngIf",g.lcZ(7,3,t.isLoading$)),g.xp6(5),g.Oqu(t.sub_inventario.product_color.name))},styles:[""]}),e}();function ae(e,t){1&e&&(g.ynx(0),g.TgZ(1,"div",17),g._UZ(2,"div",18),g.qZA(),g.BQk())}function se(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"option",19),g._uU(2),g.qZA(),g.BQk()),2&e){var n=t.$implicit;g.xp6(1),g.Q6J("value",n.id),g.xp6(1),g.Oqu(n.name)}}var ce=function(){var e=function(){function e(t,n,i){s(this,e),this._productService=t,this.modal=n,this.toaster=i,this.inventarioG=new g.vpe,this.products_colors=[],this.stock=null,this.product_color_id=null}return l(e,[{key:"ngOnInit",value:function(){this.isLoading$=this._productService.isLoadingSubject,this.stock=this.sub_inventario.stock,this.product_color_id=this.sub_inventario.product_color_id}},{key:"save",value:function(){var e=this;this._productService.updateSubInventario(this.sub_inventario.id,{stock:this.stock,product_color_id:this.product_color_id,product_size_id:this.inventario.id}).subscribe(function(t){return console.log(t),403==t.message?void e.toaster.open(h.a,{text:"danger-'".concat(t.text_message,"'")}):(e.inventarioG.emit(t.product_color_size),e.modal.close(),void e.toaster.open(h.a,{text:"primary-'SE HA REGISTRADO LOS CAMBIOS EN ESTE REGISTRO'"}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(A),g.Y36(H.Kz),g.Y36(f.x7))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-edit-sub-item-inventario"]],inputs:{sub_inventario:"sub_inventario",inventario:"inventario",products_colors:"products_colors"},outputs:{inventarioG:"inventarioG"},decls:26,vars:7,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4"],[1,"icon-2x","text-dark-50","flaticon-interface-9","mx-2"],[1,"overlay","overlay-block","cursor-default","modal-body"],[4,"ngIf"],["action","#",1,"form","form-label-right"],[1,"form-group","row"],[1,"col-12"],[1,"form-label"],["name","product_color_id",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],["type","number","name","stock","placeholder","STOCK","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate","mr-2",3,"click"],[1,"overlay-layer","bg-transparent"],[1,"spinner","spinner-lg","spinner-success"],[3,"value"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g._UZ(3,"i",3),g._uU(4),g.qZA(),g.qZA(),g.TgZ(5,"div",4),g.YNc(6,ae,3,0,"ng-container",5),g.ALo(7,"async"),g.TgZ(8,"form",6),g.TgZ(9,"div",7),g.TgZ(10,"div",8),g.TgZ(11,"label",9),g._uU(12,"COLORES : "),g.qZA(),g.TgZ(13,"select",10),g.NdJ("ngModelChange",function(e){return t.product_color_id=e}),g.TgZ(14,"option",11),g._uU(15,"Ninguno"),g.qZA(),g.YNc(16,se,3,2,"ng-container",12),g.qZA(),g.qZA(),g.TgZ(17,"div",8),g.TgZ(18,"label",9),g._uU(19,"STOCK: "),g.qZA(),g.TgZ(20,"input",13),g.NdJ("ngModelChange",function(e){return t.stock=e}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"div",14),g.TgZ(22,"button",15),g.NdJ("click",function(){return t.modal.dismiss()}),g._uU(23," Cerrar "),g.qZA(),g.TgZ(24,"button",16),g.NdJ("click",function(){return t.save()}),g._uU(25," Guardar Cambios "),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(4),g.hij(" EDITAR DIMENSION: ",t.sub_inventario.product_color.name," "),g.xp6(2),g.Q6J("ngIf",g.lcZ(7,5,t.isLoading$)),g.xp6(7),g.Q6J("ngModel",t.product_color_id),g.xp6(3),g.Q6J("ngForOf",t.products_colors),g.xp6(4),g.Q6J("ngModel",t.stock))},directives:[u.O5,T._Y,T.JL,T.F,T.EJ,T.JJ,T.On,T.YN,T.Kr,u.sg,T.wV,T.Fj],pipes:[u.Ov],styles:[""]}),e}();function le(e,t){1&e&&(g.ynx(0),g._UZ(1,"span",50),g.BQk())}function ue(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"option",51),g._uU(2),g.qZA(),g.BQk()),2&e){var n=t.$implicit;g.xp6(1),g.Q6J("value",n.id),g.xp6(1),g.Oqu(n.name)}}function de(e,t){if(1&e&&(g.TgZ(0,"div",52),g._UZ(1,"img",53),g.qZA()),2&e){var n=g.oxw();g.xp6(1),g.Q6J("src",n.imagen_pre,g.LSH)}}function ge(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g.TgZ(4,"button",54),g.NdJ("click",function(){var e=g.CHM(n).index;return g.oxw().removeTags(e)}),g._uU(5,"-"),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=t.$implicit;g.xp6(2),g.Oqu(i)}}function pe(e,t){if(1&e&&(g.TgZ(0,"span"),g.TgZ(1,"b"),g._uU(2),g.qZA(),g.qZA()),2&e){var n=g.oxw();g.xp6(2),g.hij("Imagen: ",n.img_files.name,"")}}function he(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._UZ(2,"img",55),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g.TgZ(6,"button",54),g.NdJ("click",function(){var e=g.CHM(n).$implicit;return g.oxw().removeImages(e)}),g._uU(7,"-"),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=t.$implicit;g.xp6(2),g.Q6J("src",i.show,g.LSH),g.xp6(2),g.Oqu(i.file.name)}}function fe(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",56),g.TgZ(1,"div",24),g.TgZ(2,"div",18),g.TgZ(3,"label",19),g._uU(4,"STOCK INDIVIDUAL: "),g.qZA(),g.TgZ(5,"input",57),g.NdJ("ngModelChange",function(e){return g.CHM(n),g.oxw().stock_individual=e}),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=g.oxw();g.xp6(5),g.Q6J("ngModel",i.stock_individual)}}function ve(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"option",51),g._uU(2),g.qZA(),g.BQk()),2&e){var n=t.$implicit;g.xp6(1),g.Q6J("value",n.id),g.xp6(1),g.Oqu(n.name)}}function Ze(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",18),g.TgZ(1,"label",19),g._uU(2,"Nueva talla: "),g.qZA(),g.TgZ(3,"input",64),g.NdJ("ngModelChange",function(e){return g.CHM(n),g.oxw(2).new_nombre=e}),g.qZA(),g.qZA()}if(2&e){var i=g.oxw(2);g.xp6(3),g.Q6J("ngModel",i.new_nombre)}}function me(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"option",51),g._uU(2),g.qZA(),g.BQk()),2&e){var n=t.$implicit;g.xp6(1),g.Q6J("value",n.id),g.xp6(1),g.Oqu(n.name)}}function _e(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"tr"),g._UZ(1,"td"),g.TgZ(2,"td"),g._uU(3),g.qZA(),g.TgZ(4,"td"),g._uU(5),g.qZA(),g.TgZ(6,"td"),g.TgZ(7,"button",36),g.NdJ("click",function(){var e=g.CHM(n).$implicit,t=g.oxw().$implicit;return g.oxw(2).OPENEDITSUB(e,t)}),g._uU(8,"Editar"),g.qZA(),g.TgZ(9,"button",54),g.NdJ("click",function(){var e=g.CHM(n).$implicit,t=g.oxw().$implicit;return g.oxw(2).OPENEDELETESUB(e,t)}),g._uU(10,"Eliminar"),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=t.$implicit;g.xp6(3),g.Oqu(i.product_color.name),g.xp6(2),g.Oqu(i.stock)}}function be(e,t){if(1&e){var n=g.EpF();g.ynx(0),g.TgZ(1,"tr",65),g.TgZ(2,"td"),g._uU(3),g.qZA(),g._UZ(4,"td"),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g.TgZ(8,"button",36),g.NdJ("click",function(){var e=g.CHM(n).$implicit;return g.oxw(2).OPENEDIT(e)}),g._uU(9,"Editar"),g.qZA(),g.TgZ(10,"button",54),g.NdJ("click",function(){var e=g.CHM(n).$implicit;return g.oxw(2).OPENEDELETE(e)}),g._uU(11,"Eliminar"),g.qZA(),g.qZA(),g.qZA(),g.YNc(12,_e,11,2,"tr",15),g.BQk()}if(2&e){var i=t.$implicit;g.xp6(3),g.Oqu(i.name),g.xp6(3),g.Oqu(i.total),g.xp6(6),g.Q6J("ngForOf",i.variaciones)}}function Ae(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",7),g.TgZ(1,"div",58),g.TgZ(2,"label",19),g._uU(3,"Talla : "),g.qZA(),g.TgZ(4,"select",59),g.NdJ("change",function(e){return g.CHM(n),g.oxw().changeTalla(e.target.value)})("ngModelChange",function(e){return g.CHM(n),g.oxw().product_size_id=e}),g.TgZ(5,"option",14),g._uU(6,"Ninguno"),g.qZA(),g.YNc(7,ve,3,2,"ng-container",15),g.qZA(),g.qZA(),g.YNc(8,Ze,4,1,"div",60),g.TgZ(9,"div",58),g.TgZ(10,"label",19),g._uU(11,"Color : "),g.qZA(),g.TgZ(12,"select",61),g.NdJ("ngModelChange",function(e){return g.CHM(n),g.oxw().product_color_id=e}),g.TgZ(13,"option",14),g._uU(14,"Ninguno"),g.qZA(),g.YNc(15,me,3,2,"ng-container",15),g.qZA(),g.qZA(),g.TgZ(16,"div",18),g.TgZ(17,"label",19),g._uU(18,"STOCK: "),g.qZA(),g.TgZ(19,"input",62),g.NdJ("ngModelChange",function(e){return g.CHM(n),g.oxw().stock=e}),g.qZA(),g.qZA(),g.TgZ(20,"div",58),g.TgZ(21,"button",63),g.NdJ("click",function(){return g.CHM(n),g.oxw().addInventario()}),g._uU(22,"+"),g.qZA(),g.qZA(),g.TgZ(23,"div",25),g.TgZ(24,"div",40),g.TgZ(25,"table",38),g.TgZ(26,"thead"),g.TgZ(27,"tr",39),g.TgZ(28,"th"),g._uU(29,"NOMBRE"),g.qZA(),g._UZ(30,"th"),g.TgZ(31,"th"),g._uU(32,"CANTIDAD"),g.qZA(),g.TgZ(33,"th"),g._uU(34,"ACCI\xd3N"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(35,"tbody"),g.YNc(36,be,13,3,"ng-container",15),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=g.oxw();g.xp6(4),g.Q6J("ngModel",i.product_size_id),g.xp6(3),g.Q6J("ngForOf",i.products_color_sizes),g.xp6(1),g.Q6J("ngIf",i.is_selected_dimension),g.xp6(4),g.Q6J("ngModel",i.product_color_id),g.xp6(3),g.Q6J("ngForOf",i.products_colors),g.xp6(4),g.Q6J("ngModel",i.stock),g.xp6(17),g.Q6J("ngForOf",i.product_inventaries)}}var Te=function(){return["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"]},qe=function(e){return{height:250,language:"es",plugins:e,toolbar:"undo redo | formatselect | bold italic backcolor | \n                        alignleft aligncenter alignright alignjustify | \n                        bullist numlist outdent indent | removeformat | help"}},ye=function(){var e=function(){function e(t,n,i,o,r){s(this,e),this.toaster=t,this._productService=n,this.router=i,this.activerouter=o,this.modelService=r,this.title=null,this.sku=null,this.categorie_id="",this.price_colones="",this.price_usd="",this.resumen=null,this.description=null,this.categories=[],this.text=null,this.tags=[],this.imagen_file=null,this.imagen_pre=null,this.images_files=[],this.img_files=null,this.img_pre=null,this.product_id=null,this.product=null,this.product_size_id=null,this.new_nombre=null,this.product_color_id=null,this.stock=null,this.products_colors=[],this.products_color_sizes=[],this.is_selected_dimension=!0,this.product_inventaries=[],this.checked_inventario=1,this.stock_individual=0,this.state=1}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading$=this._productService.isLoading$,this.activerouter.params.subscribe(function(t){e.product_id=t.id||""}),this._productService.getInfo().subscribe(function(t){e.categories=t.categories,e.products_colors=t.products_colors,e.products_color_sizes=t.products_color_sizes}),this._productService.showProduct(this.product_id).subscribe(function(t){console.log(t),e.product=t.product,e.title=e.product.title,e.sku=e.product.sku,e.categorie_id=e.product.categorie_id,e.price_colones=e.product.price_colones,e.price_usd=e.product.price_usd,e.resumen=e.product.resumen,e.description=e.product.description,e.tags=e.product.tags_a,e.imagen_pre=e.product.imagen,e.images_files=e.product.images,e.product_inventaries=e.product.sizes,e.stock_individual=e.product.stock,e.checked_inventario=e.product.checked_inventario,e.state=e.product.state})}},{key:"loadService",value:function(){var e=this;this._productService.isLoadingSubject.next(!0),setTimeout(function(){e._productService.isLoadingSubject.next(!1)},50)}},{key:"processFile",value:function(e){var t=this;if(e.target.files[0].type.indexOf("image")<0)this.toaster.open(h.a,{text:"danger-'El archivo cargado no es una imagen'"});else{this.imagen_file=e.target.files[0];var n=new FileReader;n.readAsDataURL(this.imagen_file),n.onloadend=function(){return t.imagen_pre=n.result},this.loadService()}}},{key:"addTags",value:function(){this.tags.push(this.text),this.text=null}},{key:"removeTags",value:function(e){this.tags.splice(e,1)}},{key:"addFile",value:function(e){var t=this;if(e.target.files[0].type.indexOf("image")<0)this.toaster.open(h.a,{text:"danger-'El archivo cargado no es una imagen'"});else{this.img_files=e.target.files[0];var n=new FileReader;n.readAsDataURL(this.img_files),n.onloadend=function(){return t.img_pre=n.result}}}},{key:"addImages",value:function(){var e=this;if(this.img_files){var t=new FormData;t.append("product_id",this.product_id),t.append("file",this.img_files),this._productService.addImagenProduct(t).subscribe(function(t){e.img_files=null,e.img_pre=null,e.images_files.unshift(t.imagen)})}else this.toaster.open(h.a,{text:"danger-'DEBES AGREGAR UNA IMAGEN'"})}},{key:"removeImages",value:function(e){var t=this,n=this.modelService.open(W,{centered:!0,size:"sm"});n.componentInstance.imagen_=e,n.result.then(function(){},function(){}),n.componentInstance.ImagenE.subscribe(function(e){var n=t.images_files.findIndex(function(t){return t.id==e.id});t.images_files.splice(n,1)})}},{key:"createProduct",value:function(){var e=this;if(this.title&&this.sku&&this.categorie_id&&this.price_colones&&this.price_usd&&this.resumen&&this.description){var t=new FormData;t.append("title",this.title),t.append("sku",this.sku),t.append("categorie_id",this.categorie_id),t.append("price_colones",this.price_colones),t.append("price_usd",this.price_usd),t.append("resumen",this.resumen),t.append("description",this.description),t.append("imagen_file",this.imagen_file),t.append("tags",this.tags),t.append("stock",this.stock_individual?this.stock_individual:0),t.append("type_inventario",this.checked_inventario),t.append("state",this.state),this._productService.updateProduct(this.product_id,t).subscribe(function(t){console.log(t),e.toaster.open(h.a,{text:"primary-'SE REGISTR\xd3 LOS CAMBIOS DEL PRODUCTO'"})}),this._productService.createProduct(t).subscribe(function(t){console.log(t),e.toaster.open(h.a,{text:"primary-'EL PRODUCTO SE REGISTRO CORRECTAMENTE.'"}),e.title=null,e.sku=null,e.categorie_id=null,e.price_colones=null,e.price_usd=null,e.resumen=null,e.description=null,e.imagen_file=null,e.imagen_pre=null,e.tags=[],e.images_files=[]})}else this.toaster.open(h.a,{text:"danger-'TODOS LOS CAMPOS SON OBLIGATORIOS'"})}},{key:"checkedInventario",value:function(e){this.checked_inventario=e}},{key:"changeTalla",value:function(e){this.is_selected_dimension=!e}},{key:"addInventario",value:function(){var e=this;this.product_size_id||this.new_nombre?this.product_color_id?this.stock?this._productService.addInvetario({product_id:this.product_id,product_color_id:this.product_color_id,product_size_id:this.product_size_id,new_nombre:this.new_nombre,stock:this.stock}).subscribe(function(t){if(console.log(t),403!=t.message){e.toaster.open(h.a,{text:"primary-'SE REGISTR\xd3 CORRECTAMENTE LA CONFIGURACI\xd3N'"}),e.product_color_id=null,e.product_size_id=null,e.new_nombre=null,e.stock=null;var n=e.product_inventaries.findIndex(function(e){return e.id==t.product_size_color.id});-1!=n?e.product_inventaries[n]=t.product_size_color:e.product_inventaries.push(t.product_size_color)}else e.toaster.open(h.a,{text:"danger-'".concat(t.text_message,"'")})}):this.toaster.open(h.a,{text:"danger-'TIENES QUE INGRESAR EL STOCK'"}):this.toaster.open(h.a,{text:"danger-'TIENES QUE SELECCIONAR UN COLOR'"}):this.toaster.open(h.a,{text:"danger-'TIENES QUE INGRESAR EL TAMA\xd1O DE LA TALLA'"})}},{key:"OPENEDIT",value:function(e){var t=this,n=this.modelService.open(ie,{centered:!0,size:"sm"});n.componentInstance.inventario=e,n.result.then(function(){},function(){}),n.componentInstance.inventarioG.subscribe(function(e){console.log(e);var n=t.product_inventaries.findIndex(function(t){return t.id==e.id});-1!=n&&(t.product_inventaries[n]=e)})}},{key:"OPENEDELETE",value:function(e){var t=this,n=this.modelService.open(te,{centered:!0,size:"sm"});n.componentInstance.inventario=e,n.result.then(function(){},function(){}),n.componentInstance.inventarioG.subscribe(function(e){console.log(e);var n=t.product_inventaries.findIndex(function(t){return t.id==e.id});-1!=n&&t.product_inventaries.splice(n,1)})}},{key:"OPENEDITSUB",value:function(e,t){var n=this,i=this.modelService.open(ce,{centered:!0,size:"sm"});i.componentInstance.sub_inventario=e,i.componentInstance.inventario=t,i.componentInstance.products_colors=this.products_colors,i.result.then(function(){},function(){}),i.componentInstance.inventarioG.subscribe(function(e){console.log(e);var i=n.product_inventaries.find(function(e){return e.id==t.id}).variaciones.findIndex(function(t){return t.id==e.id});-1!=i&&(n.product_inventaries.find(function(e){return e.id==t.id}).variaciones[i]=e)})}},{key:"OPENEDELETESUB",value:function(e,t){var n=this,i=this.modelService.open(re,{centered:!0,size:"sm"});i.componentInstance.sub_inventario=e,i.result.then(function(){},function(){}),i.componentInstance.inventarioG.subscribe(function(e){console.log(e);var i=n.product_inventaries.find(function(e){return e.id==t.id}).variaciones.findIndex(function(t){return t.id==e.id});-1!=i&&n.product_inventaries.find(function(e){return e.id==t.id}).variaciones.splice(i,1)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(f.x7),g.Y36(A),g.Y36(d.F0),g.Y36(d.gz),g.Y36(H.FF))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-edit-new-product"]],decls:127,vars:25,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"icon-2x","text-dark-50","flaticon2-tools-and-utensils","mx-2"],[1,"card-body"],[4,"ngIf"],[1,"form-group","row"],[1,"col-lg-5"],["for","form-label"],["type","text","name","title","placeholder","Nombre","autocomplete","off",1,"form-control","from-control-solid","from-control-lg",3,"ngModel","ngModelChange"],[1,"col-lg-3"],["type","text","name","sku","placeholder","sku","autocomplete","off",1,"form-control","from-control-solid","from-control-lg",3,"ngModel","ngModelChange"],["name","categorie_id",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],["type","text","name","price_colones","placeholder","\u20a1","autocomplete","off",1,"form-control","from-control-solid","from-control-lg",3,"ngModel","ngModelChange"],["type","text","name","price_usd","placeholder","$","autocomplete","off",1,"form-control","from-control-solid","from-control-lg",3,"ngModel","ngModelChange"],[1,"col-3"],[1,"form-label"],["value","1"],["value","2"],["value","3"],[1,"col-lg-4"],[1,"row"],[1,"col-12"],[1,"custom-file"],["type","file","id","customFile","accept",".jpeg, .bmp, .jpg, .png, .gif, .webp",1,"custom-file-input",3,"change"],["for","customFile",1,"custom-file-label"],["class","COL-12 py-2",4,"ngIf"],[1,"col-5"],["name","descriptions","rows","4",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6"],[3,"ngModel","init","ngModelChange"],[1,"d-flex"],["type","text","name","TAGS","placeholder","TAGS","autocomplete","off",1,"form-control","from-control-solid","from-control-lg","w-50",3,"ngModel","ngModelChange"],[1,"ml-5","btn","btn-sm","btn-primary",3,"click"],[1,"table-responsive","w-50"],["id","kt_advance_table_widget_1",1,"table","table-head-custom","table-vertical-center"],[1,"text-left"],[1,"table-responsive","w-100"],[1,"form-group"],[1,"radio-inline"],[1,"radio"],["type","radio","name","radiosC","value","1",3,"checked","click"],["type","radio","name","radiosC","value","2",3,"checked","click"],[1,"form-text","text-muted"],["class","col-12 py-3",4,"ngIf"],[1,"btn","btn-md","btn-primary",3,"click"],["class","form-group row",4,"ngIf"],[1,"spinner","spinner-lg","spinner-success"],[3,"value"],[1,"COL-12","py-2"],["alt","",1,"w-100",3,"src"],[1,"ml-5","btn","btn-sm","btn-danger",3,"click"],["alt","",1,"w-25",3,"src"],[1,"col-12","py-3"],["type","number","name","stock_individual","placeholder","100","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],[1,"col-2"],["name","product_size_id",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","change","ngModelChange"],["class","col-3",4,"ngIf"],["name","product_color_id",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],["type","number","name","stock","placeholder","100","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","btn-info",3,"click"],["type","text","name","new_nombre","placeholder","XL,L,M,S","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],[2,"background","rgb(2, 230, 247)"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"h3",3),g._UZ(4,"i",4),g._uU(5," Editar Producto :"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(6,"div",5),g.YNc(7,le,2,0,"ng-container",6),g.ALo(8,"async"),g.TgZ(9,"div",7),g.TgZ(10,"div",8),g.TgZ(11,"label",9),g._uU(12,"Nombre del Producto:"),g.qZA(),g.TgZ(13,"input",10),g.NdJ("ngModelChange",function(e){return t.title=e}),g.qZA(),g.qZA(),g.TgZ(14,"div",11),g.TgZ(15,"label",9),g._uU(16,"SKU:"),g.qZA(),g.TgZ(17,"input",12),g.NdJ("ngModelChange",function(e){return t.sku=e}),g.qZA(),g.qZA(),g.TgZ(18,"div",11),g.TgZ(19,"label",9),g._uU(20,"Categor\xeda:"),g.qZA(),g.TgZ(21,"select",13),g.NdJ("ngModelChange",function(e){return t.categorie_id=e}),g.TgZ(22,"option",14),g._uU(23,"Ninguna"),g.qZA(),g.YNc(24,ue,3,2,"ng-container",15),g.TgZ(25,"option",14),g._uU(26,"Ninguna"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"div",7),g.TgZ(28,"div",11),g.TgZ(29,"label",9),g._uU(30,"Precio en Colones:"),g.qZA(),g.TgZ(31,"input",16),g.NdJ("ngModelChange",function(e){return t.price_colones=e}),g.qZA(),g.qZA(),g.TgZ(32,"div",11),g.TgZ(33,"label",9),g._uU(34,"Precio en d\xf3lares:"),g.qZA(),g.TgZ(35,"input",17),g.NdJ("ngModelChange",function(e){return t.price_usd=e}),g.qZA(),g.qZA(),g.TgZ(36,"div",18),g.TgZ(37,"label",19),g._uU(38,"Estado del Producto : "),g.qZA(),g.TgZ(39,"select",13),g.NdJ("ngModelChange",function(e){return t.state=e}),g.TgZ(40,"option",20),g._uU(41,"DEMO"),g.qZA(),g.TgZ(42,"option",21),g._uU(43,"PUBLICO"),g.qZA(),g.TgZ(44,"option",22),g._uU(45,"BLOQUEADO"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(46,"div",23),g.TgZ(47,"div",24),g.TgZ(48,"div",25),g.TgZ(49,"label",19),g._uU(50,"Imagen de Portada: "),g.qZA(),g.TgZ(51,"div",26),g.TgZ(52,"input",27),g.NdJ("change",function(e){return t.processFile(e)}),g.qZA(),g.TgZ(53,"label",28),g._uU(54,"Seleccione el archivo"),g.qZA(),g.qZA(),g.qZA(),g.YNc(55,de,2,1,"div",29),g.qZA(),g.qZA(),g.qZA(),g.TgZ(56,"div",7),g.TgZ(57,"div",30),g.TgZ(58,"label",19),g._uU(59,"Resumen del Producto:"),g.qZA(),g.TgZ(60,"textarea",31),g.NdJ("ngModelChange",function(e){return t.resumen=e}),g.qZA(),g.qZA(),g.TgZ(61,"div",32),g.TgZ(62,"label",19),g._uU(63,"Descripci\xf3n:"),g.qZA(),g.TgZ(64,"editor",33),g.NdJ("ngModelChange",function(e){return t.description=e}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(65,"div",7),g.TgZ(66,"div",32),g.TgZ(67,"label",19),g._uU(68,"Etiquetas:"),g.qZA(),g.TgZ(69,"div",34),g.TgZ(70,"input",35),g.NdJ("ngModelChange",function(e){return t.text=e}),g.qZA(),g.TgZ(71,"button",36),g.NdJ("click",function(){return t.addTags()}),g._uU(72,"+"),g.qZA(),g.qZA(),g.TgZ(73,"div",37),g.TgZ(74,"table",38),g.TgZ(75,"thead"),g.TgZ(76,"tr",39),g.TgZ(77,"th"),g._uU(78,"Palabra"),g.qZA(),g.TgZ(79,"th"),g._uU(80,"Acci\xf3n"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(81,"tbody"),g.YNc(82,ge,6,1,"tr",15),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(83,"div",32),g.TgZ(84,"label",19),g._uU(85,"Imagenes:"),g.qZA(),g.TgZ(86,"div",34),g.TgZ(87,"div",26),g.TgZ(88,"input",27),g.NdJ("change",function(e){return t.addFile(e)}),g.qZA(),g.TgZ(89,"label",28),g._uU(90,"Seleccione el archivo"),g.qZA(),g.qZA(),g.TgZ(91,"button",36),g.NdJ("click",function(){return t.addImages()}),g._uU(92,"+"),g.qZA(),g.qZA(),g.YNc(93,pe,3,1,"span",6),g.TgZ(94,"div",40),g.TgZ(95,"table",38),g.TgZ(96,"thead"),g.TgZ(97,"tr",39),g.TgZ(98,"th"),g._uU(99,"Imagen"),g.qZA(),g.TgZ(100,"th"),g._uU(101,"Nombre"),g.qZA(),g.TgZ(102,"th"),g._uU(103,"Acci\xf3n"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(104,"tbody"),g.YNc(105,he,8,2,"tr",15),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(106,"div",7),g.TgZ(107,"div",25),g.TgZ(108,"div",41),g.TgZ(109,"label"),g._uU(110,"INVENTARIO"),g.qZA(),g.TgZ(111,"div",42),g.TgZ(112,"label",43),g.TgZ(113,"input",44),g.NdJ("click",function(){return t.checkedInventario(1)}),g.qZA(),g._UZ(114,"span"),g._uU(115," INVENTARIO INDIVIDUAL "),g.qZA(),g.TgZ(116,"label",43),g.TgZ(117,"input",45),g.NdJ("click",function(){return t.checkedInventario(2)}),g.qZA(),g._UZ(118,"span"),g._uU(119," INVENTARIO MULTIPLE "),g.qZA(),g.qZA(),g.TgZ(120,"span",46),g._uU(121,"Selecciona una opci\xf3n"),g.qZA(),g.qZA(),g.qZA(),g.YNc(122,fe,6,1,"div",47),g.TgZ(123,"div",32),g.TgZ(124,"button",48),g.NdJ("click",function(){return t.createProduct()}),g._uU(125,"Guardar Cambios"),g.qZA(),g.qZA(),g.qZA(),g.YNc(126,Ae,37,7,"div",49),g.qZA(),g.qZA()),2&e&&(g.xp6(7),g.Q6J("ngIf",g.lcZ(8,20,t.isLoading$)),g.xp6(6),g.Q6J("ngModel",t.title),g.xp6(4),g.Q6J("ngModel",t.sku),g.xp6(4),g.Q6J("ngModel",t.categorie_id),g.xp6(3),g.Q6J("ngForOf",t.categories),g.xp6(7),g.Q6J("ngModel",t.price_colones),g.xp6(4),g.Q6J("ngModel",t.price_usd),g.xp6(4),g.Q6J("ngModel",t.state),g.xp6(16),g.Q6J("ngIf",t.imagen_pre),g.xp6(5),g.Q6J("ngModel",t.resumen),g.xp6(4),g.Q6J("ngModel",t.description)("init",g.VKq(23,qe,g.DdM(22,Te))),g.xp6(6),g.Q6J("ngModel",t.text),g.xp6(12),g.Q6J("ngForOf",t.tags),g.xp6(11),g.Q6J("ngIf",t.img_files),g.xp6(12),g.Q6J("ngForOf",t.images_files),g.xp6(8),g.Q6J("checked",1==t.checked_inventario),g.xp6(4),g.Q6J("checked",2==t.checked_inventario),g.xp6(5),g.Q6J("ngIf",1==t.checked_inventario),g.xp6(4),g.Q6J("ngIf",2==t.checked_inventario))},directives:[u.O5,T.Fj,T.JJ,T.On,T.EJ,T.YN,T.Kr,u.sg,R,T.wV],pipes:[u.Ov],styles:[""]}),e}();function xe(e,t){1&e&&(g.ynx(0),g._UZ(1,"span",26),g.BQk())}function ke(e,t){1&e&&(g.TgZ(0,"span",43),g._uU(1,"DEMO"),g.qZA())}function we(e,t){1&e&&(g.TgZ(0,"span",44),g._uU(1,"PUBLICO"),g.qZA())}function Ce(e,t){1&e&&(g.TgZ(0,"span",45),g._uU(1,"BLOQUEADO"),g.qZA())}var Se=function(e){return{"background-image":e}},Ue=function(e){return["/products/edit-product",e]};function Me(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g.TgZ(2,"div",27),g._UZ(3,"div",28),g.qZA(),g.qZA(),g.TgZ(4,"td"),g._uU(5),g.qZA(),g.TgZ(6,"td"),g._uU(7),g.qZA(),g.TgZ(8,"td"),g._uU(9),g.qZA(),g.TgZ(10,"td"),g._uU(11),g.qZA(),g.TgZ(12,"td"),g.YNc(13,ke,2,0,"span",29),g.YNc(14,we,2,0,"span",30),g.YNc(15,Ce,2,0,"span",31),g.qZA(),g.TgZ(16,"td"),g.TgZ(17,"a",32),g.TgZ(18,"span",33),g.O4$(),g.TgZ(19,"svg",34),g.TgZ(20,"g",35),g._UZ(21,"rect",36),g._UZ(22,"path",37),g._UZ(23,"path",38),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.kcU(),g.TgZ(24,"a",39),g.NdJ("click",function(){var e=g.CHM(n).$implicit;return g.oxw().delete(e)}),g.TgZ(25,"span",40),g.O4$(),g.TgZ(26,"svg",34),g.TgZ(27,"g",35),g._UZ(28,"rect",36),g._UZ(29,"path",41),g._UZ(30,"path",42),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=t.$implicit;g.xp6(3),g.Q6J("ngStyle",g.VKq(9,Se,"url("+i.imagen+")")),g.xp6(2),g.Oqu(i.title),g.xp6(2),g.Oqu(i.categorie.name),g.xp6(2),g.hij("\u20a1 ",i.price_colones,""),g.xp6(2),g.hij("$ ",i.price_usd,""),g.xp6(2),g.Q6J("ngIf",1==i.state),g.xp6(1),g.Q6J("ngIf",2==i.state),g.xp6(1),g.Q6J("ngIf",3==i.state),g.xp6(2),g.Q6J("routerLink",g.VKq(11,Ue,i.id))}}var Oe=[{path:"",component:p,children:[{path:"add-product",component:K},{path:"list-product",component:function(){var e=function(){function e(t){s(this,e),this._productServices=t,this.products=[],this.isLoading$=null,this.search=null}return l(e,[{key:"ngOnInit",value:function(){this.isLoading$=this._productServices.isLoadingSubject,this.allProducts()}},{key:"allProducts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n="";this.search&&(n=n+"&search="+this.search),this._productServices.allProducts(t,n).subscribe(function(t){console.log(t),e.products=t.products.data})}},{key:"reset",value:function(){this.search=null,this.allProducts()}},{key:"edit",value:function(e){}},{key:"delete",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(A))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-list-product"]],decls:45,vars:7,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"icon-2x","text-dark-50","flaticon2-box","mx-2"],[1,"card-toolbar"],["type","button","routerLink","/products/add-product",1,"btn","btn-primary"],[1,"icon-2x","text-white","flaticon-add"],[1,"card-body"],[4,"ngIf"],[1,"row"],[1,"col-6"],["type","text","name","searchText","placeholder","Buscar","value","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-text","text-muted"],[1,"col-3"],["placement","top",1,"btn","btn-primary","ml-2",3,"ngbTooltip","click"],[1,"icon","text-white","flaticon-search-1"],["placement","top",1,"btn","btn-dark","ml-2",3,"ngbTooltip","click"],[1,"icon","text-white","flaticon-refresh"],[1,"table-responsive"],["id","kt_advance_table_widget_1",1,"table","table-head-custom","table-vertical-center"],[1,"text-left"],[1,"pr-0",2,"width","50px"],[2,"min-width","150px"],[1,"pr-0","text-right",2,"min-width","150px"],[4,"ngFor","ngForOf"],[1,"spinner","spinner-primary","ml-5"],[1,"symbol","symbol-50","flex-shrink-0","mr-4"],[1,"symbol-label",3,"ngStyle"],["class","label label-lg label-inline label-light-danger",4,"ngIf"],["class","label label-lg label-inline label-light-success",4,"ngIf"],["class","label label-lg label-inline label-light-warning",4,"ngIf"],["ngbTooltip","Editar Producto","ngbTooltipClass","kt-tooltip",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-1",3,"routerLink"],[1,"svg-icon","svg-icon-md","svg-icon-primary"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["x","0","y","0","width","24","height","24"],["d","M12.2674799,18.2323597 L12.0084872,5.45852451 C12.0004303,5.06114792 12.1504154,4.6768183 12.4255037,4.38993949 L15.0030167,1.70195304 L17.5910752,4.40093695 C17.8599071,4.6812911 18.0095067,5.05499603 18.0083938,5.44341307 L17.9718262,18.2062508 C17.9694575,19.0329966 17.2985816,19.701953 16.4718324,19.701953 L13.7671717,19.701953 C12.9505952,19.701953 12.2840328,19.0487684 12.2674799,18.2323597 Z","fill","#000000","fill-rule","nonzero","transform","translate(14.701953, 10.701953) rotate(-135.000000) translate(-14.701953, -10.701953)"],["d","M12.9,2 C13.4522847,2 13.9,2.44771525 13.9,3 C13.9,3.55228475 13.4522847,4 12.9,4 L6,4 C4.8954305,4 4,4.8954305 4,6 L4,18 C4,19.1045695 4.8954305,20 6,20 L18,20 C19.1045695,20 20,19.1045695 20,18 L20,13 C20,12.4477153 20.4477153,12 21,12 C21.5522847,12 22,12.4477153 22,13 L22,18 C22,20.209139 20.209139,22 18,22 L6,22 C3.790861,22 2,20.209139 2,18 L2,6 C2,3.790861 3.790861,2 6,2 L12.9,2 Z","fill","#000000","fill-rule","nonzero","opacity","0.3"],["ngbTooltip","Eliminar Producto","ngbTooltipClass","kt-tooltip",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm",3,"click"],[1,"svg-icon","svg-icon-md","svg-icon-danger"],["d","M6,8 L6,20.5 C6,21.3284271 6.67157288,22 7.5,22 L16.5,22 C17.3284271,22 18,21.3284271 18,20.5 L18,8 L6,8 Z","fill","#000000","fill-rule","nonzero"],["d","M14,4.5 L14,4 C14,3.44771525 13.5522847,3 13,3 L11,3 C10.4477153,3 10,3.44771525 10,4 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z","fill","#000000","opacity","0.3"],[1,"label","label-lg","label-inline","label-light-danger"],[1,"label","label-lg","label-inline","label-light-success"],[1,"label","label-lg","label-inline","label-light-warning"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"h3",3),g._UZ(4,"i",4),g._uU(5," Lista de Productos"),g.qZA(),g.qZA(),g.TgZ(6,"div",5),g.TgZ(7,"a",6),g._UZ(8,"i",7),g._uU(9," Nuevo Producto"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"div",8),g.YNc(11,xe,2,0,"ng-container",9),g.ALo(12,"async"),g.TgZ(13,"div",10),g.TgZ(14,"div",11),g.TgZ(15,"input",12),g.NdJ("ngModelChange",function(e){return t.search=e}),g.qZA(),g.TgZ(16,"small",13),g.TgZ(17,"b"),g._uU(18,"Buscar"),g.qZA(),g._uU(19," por nombre del Producto"),g.qZA(),g.qZA(),g.TgZ(20,"div",14),g.TgZ(21,"button",15),g.NdJ("click",function(){return t.allProducts()}),g._UZ(22,"i",16),g.qZA(),g.TgZ(23,"button",17),g.NdJ("click",function(){return t.reset()}),g._UZ(24,"i",18),g.qZA(),g.qZA(),g.qZA(),g.TgZ(25,"div",19),g.TgZ(26,"table",20),g.TgZ(27,"thead"),g.TgZ(28,"tr",21),g.TgZ(29,"th",22),g._uU(30,"Imagen"),g.qZA(),g.TgZ(31,"th",23),g._uU(32,"Nombre del Producto"),g.qZA(),g.TgZ(33,"th",23),g._uU(34,"Categor\xeda"),g.qZA(),g.TgZ(35,"th",23),g._uU(36,"Precio Colones"),g.qZA(),g.TgZ(37,"th",23),g._uU(38,"Precio USD"),g.qZA(),g.TgZ(39,"th",23),g._uU(40,"Status"),g.qZA(),g.TgZ(41,"th",24),g._uU(42,"Acci\xf3n"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(43,"tbody"),g.YNc(44,Me,31,13,"tr",25),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(11),g.Q6J("ngIf",g.lcZ(12,5,t.isLoading$)),g.xp6(4),g.Q6J("ngModel",t.search),g.xp6(6),g.Q6J("ngbTooltip","Filtro"),g.xp6(2),g.Q6J("ngbTooltip","Reset"),g.xp6(21),g.Q6J("ngForOf",t.products))},directives:[d.yS,u.O5,T.Fj,T.JJ,T.On,H._L,u.sg,u.PC],pipes:[u.Ov],styles:[""]}),e}()},{path:"edit-product/:id",component:ye},{path:"",redirectTo:"add-product",pathMatch:"full"},{path:"**",redirectTo:"add-product",pathMatch:"full"}]}],Ee=function(){var e=l(function e(){s(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[d.Bz.forChild(Oe)],d.Bz]}),e}(),Ie=a(73749),Ne=a(85848),Le=function(){var e=l(function e(){s(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[u.ez,Ee,v.JF,T.u5,H.IJ,T.UX,Ie.vi,Ne.fA,H.bz,H.M,D]]}),e}()}}])}();